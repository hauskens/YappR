{% extends 'base.html' %}

{% block content %}
<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      
      {% if ratelimit_exceeded %}
      <div class="alert alert-warning text-center shadow" role="alert">
        <h2 class="alert-heading">Whoa there! ðŸš¦</h2>
        <p>You've used up your quota for now: {{ ratelimit_exceeded }}.</p>
        <hr>
        <p class="mb-0">Wait a bit and try again, or log in to get unlimited access and more features!</p>
      </div>
      {% else %}
      <div class="alert alert-info text-center shadow" role="alert">
        <h2 class="alert-heading">Welcome to YappR! ðŸ‘‹</h2>
        <p>It looks like you're not logged in yet.</p>
        <hr>
        <p class="mb-0">You can still use YappR, but you will be limited a certain amount of requests per day. </p>
        <p class="mb-0">Log in to get unlimited access and more features!</p>
      </div>
      {% endif %}

      <div class="card shadow border mt-4">
        <div class="card-header bg-primary text-white">
          <h5 class="mb-0"><i class="bi bi-info-circle-fill me-2"></i>Login to YappR</h5>
        </div>
        <div class="card-body">
          <p>Log in to get unlimited access and more features!</p>
          <p>You can read more about YappR <a href="{{ url_for('root.about') }}">here</a></p>
          <div class="text-center mt-4">
            (prefered)
            <br>
            <a href="{{ url_for('twitch.login') }}">
              <img
                id="twitch"
                src="https://img.shields.io/badge/Twitch-Login-9146ff?style=for-the-badge&labelColor=black&logo=Twitch"
                alt="Login with Twitch"
              />
            </a>
          </div>
          <div class="text-center mt-4">
            <a href="{{ url_for('discord.login') }}">
              <img
                id="discord"
                src="https://img.shields.io/badge/Discord-Login-7289da?style=for-the-badge&labelColor=black&logo=Discord"
                alt="Login with Discord"
              />
            </a>
          </div>
        </div>
      </div>

      {% with messages = get_flashed_messages() %}
        {% if messages %}
          <div class="alert alert-warning" role="alert">
            {% for message in messages %}
              {{ message }}
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}
    </div>
  </div>
</div>
{% endblock %}

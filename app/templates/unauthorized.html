{% extends 'base.html' %}

{% block content %}
<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      
      {% if ratelimit_exceeded %}
      <div class="alert alert-warning text-center shadow" role="alert">
        <h2 class="alert-heading">Whoa there! 🚦</h2>
        <p>You've used up your quota for now: {{ ratelimit_exceeded }}.</p>
        <hr>
        <p class="mb-0">Wait a bit and try again, or log in to get unlimited access and more features!</p>
      </div>
      {% else %}
      <div class="alert alert-info text-center shadow" role="alert">
        <h2 class="alert-heading">Welcome to YappR! 👋</h2>
        <p>It looks like you're not logged in yet.</p>
        <hr>
        <p class="mb-0">You can still use YappR, but you will be limited a certain amount of requests per day. </p>
        <p class="mb-0">Log in to get unlimited access and more features!</p>
      </div>
      {% endif %}

      <div class="card shadow border mt-4">
        <div class="card-header bg-primary text-white">
          <h5 class="mb-0"><i class="bi bi-info-circle-fill me-2"></i>About YappR</h5>
        </div>
        <div class="card-body">
          <div class="d-flex align-items-start mb-4">
            <span class="fs-4 me-3 mt-1">🛠️</span>
            <div>
              <h6 class="mb-1">Open Source Project</h6>
              <p class="mb-0"><strong>YappR</strong> is a <strong>free</strong> and <a href="https://github.com/hauskens/YappR" target="_blank">open source</a> project, licensed under the <strong>GNU GPL v2.0</strong>.</p>
              <p class="mb-0">You can <strong><a href="https://github.com/hauskens/YappR" target="_blank">inspect the source code</a></strong> at any time.</p>
            </div>
          </div>
          
          <div class="d-flex align-items-start mb-4">
            <span class="fs-4 me-3 mt-1">️🔒</span>
            <div>
              <h6 class="mb-1">No Passwords</h6>
              <p class="mb-0">Twitch and Discord are used for authentication, <strong>no passwords</strong> are ever exchanged with YappR.</p>
            </div>
          </div>
          <div class="d-flex align-items-start mb-4">
            <span class="fs-4 me-3 mt-1">️👀</span>
            <div>
              <h6 class="mb-1">Privacy is a priority</h6>
              <p class="mb-0">The only info we access is your <strong>profile ID, username, and avatar</strong>—nothing more.</p>
            </div>
          </div>
          
          <h5 class="mt-4 text-center">🚀 Ready to dive in?</h5>
          <p class="text-center">Just click one of the login buttons below. Once you're in, you're all set to go!</p>

          <div class="text-center mt-4">
            (prefered)
            <br>
            <a href="{{ url_for('twitch.login') }}">
              <img
                id="twitch"
                src="https://img.shields.io/badge/Twitch-Login-9146ff?style=for-the-badge&labelColor=black&logo=Twitch"
                alt="Login with Twitch"
              />
            </a>
          </div>
          <div class="text-center mt-4">
            <a href="{{ url_for('discord.login') }}">
              <img
                id="discord"
                src="https://img.shields.io/badge/Discord-Login-7289da?style=for-the-badge&labelColor=black&logo=Discord"
                alt="Login with Discord"
              />
            </a>
          </div>
        </div>
      </div>

      {% with messages = get_flashed_messages() %}
        {% if messages %}
          <div class="alert alert-warning" role="alert">
            {% for message in messages %}
              {{ message }}
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}
    </div>
  </div>
</div>
{% endblock %}
